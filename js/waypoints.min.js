(function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},e=[].slice;!function(t,e){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(n){return e(n,t)}):e(t.jQuery,t)}(window,function(n,r){var i,o,l,s,c,u,f,a,h,d,p,y,v,w,g,S;return i=n(r),a=t.call(r,"ontouchstart")>=0,s={horizontal:{},vertical:{}},c=1,f={},u="waypoints-context-id",p="resize.waypoints",y="scroll.waypoints",v=1,w="waypoints-waypoint-ids",g="waypoint",S="waypoints",o=function(){function t(t){var e=this;this.$element=t,this.element=t[0],this.didResize=!1,this.didScroll=!1,this.id="context"+c++,this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()},this.waypoints={horizontal:{},vertical:{}},this.element[u]=this.id,f[this.id]=this,t.bind(y,function(){var t;if(!e.didScroll&&!a)return e.didScroll=!0,t=function(){return e.doScroll(),e.didScroll=!1},r.setTimeout(t,n[S].settings.scrollThrottle)}),t.bind(p,function(){var t;if(!e.didResize)return e.didResize=!0,t=function(){return n[S]("refresh"),e.didResize=!1},r.setTimeout(t,n[S].settings.resizeThrottle)})}return t.prototype.doScroll=function(){var t,e=this;return t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!a||t.vertical.oldScroll&&t.vertical.newScroll||n[S]("refresh"),n.each(t,function(t,r){var i,o,l;return l=[],o=r.newScroll>r.oldScroll,i=o?r.forward:r.backward,n.each(e.waypoints[t],function(t,e){var n,i;return r.oldScroll<(n=e.offset)&&n<=r.newScroll?l.push(e):r.newScroll<(i=e.offset)&&i<=r.oldScroll?l.push(e):void 0}),l.sort(function(t,e){return t.offset-e.offset}),o||l.reverse(),n.each(l,function(t,e){if(e.options.continuous||t===l.length-1)return e.trigger([i])})}),this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.refresh=function(){var t,e,r,i=this;return r=n.isWindow(this.element),e=this.$element.offset(),this.doScroll(),t={horizontal:{contextOffset:r?0:e.left,contextScroll:r?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:r?0:e.top,contextScroll:r?0:this.oldScroll.y,contextDimension:r?n[S]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},n.each(t,function(t,e){return n.each(i.waypoints[t],function(t,r){var i,o,l,s,c;if(i=r.options.offset,l=r.offset,o=n.isWindow(r.element)?0:r.$element.offset()[e.offsetProp],n.isFunction(i)?i=i.apply(r.element):"string"==typeof i&&(i=parseFloat(i),r.options.offset.indexOf("%")>-1&&(i=Math.ceil(e.contextDimension*i/100))),r.offset=o-e.contextOffset+e.contextScroll-i,(!r.options.onlyOnScroll||null==l)&&r.enabled)return null!==l&&l<(s=e.oldScroll)&&s<=r.offset?r.trigger([e.backward]):null!==l&&l>(c=e.oldScroll)&&c>=r.offset?r.trigger([e.forward]):null===l&&e.oldScroll>=r.offset?r.trigger([e.forward]):void 0})})},t.prototype.checkEmpty=function(){if(n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical))return this.$element.unbind([p,y].join(" ")),delete f[this.id]},t}(),l=function(){function t(t,e,r){var i,o;"bottom-in-view"===r.offset&&(r.offset=function(){var t;return t=n[S]("viewportHeight"),n.isWindow(e.element)||(t=e.$element.height()),t-n(this).outerHeight()}),this.$element=t,this.element=t[0],this.axis=r.horizontal?"horizontal":"vertical",this.callback=r.handler,this.context=e,this.enabled=r.enabled,this.id="waypoints"+v++,this.offset=null,this.options=r,e.waypoints[this.axis][this.id]=this,s[this.axis][this.id]=this,i=null!=(o=this.element[w])?o:[],i.push(this.id),this.element[w]=i}return t.prototype.trigger=function(t){if(this.enabled)return null!=this.callback&&this.callback.apply(this.element,t),this.options.triggerOnce?this.destroy():void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},t.prototype.destroy=function(){return delete s[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},t.getWaypointsByElement=function(t){var e,r;return(r=t[w])?(e=n.extend({},s.horizontal,s.vertical),n.map(r,function(t){return e[t]})):[]},t}(),d={init:function(t,e){var r;return e=n.extend({},n.fn[g].defaults,e),null==(r=e.handler)&&(e.handler=t),this.each(function(){var t,r,i,s;return t=n(this),i=null!=(s=e.context)?s:n.fn[g].defaults.context,n.isWindow(i)||(i=t.closest(i)),i=n(i),r=f[i[0][u]],r||(r=new o(i)),new l(t,r,e)}),n[S]("refresh"),this},disable:function(){return d._invoke.call(this,"disable")},enable:function(){return d._invoke.call(this,"enable")},destroy:function(){return d._invoke.call(this,"destroy")},prev:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){if(e>0)return t.push(n[e-1])})},next:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){if(e<n.length-1)return t.push(n[e+1])})},_traverse:function(t,e,i){var o,l;return null==t&&(t="vertical"),null==e&&(e=r),l=h.aggregate(e),o=[],this.each(function(){var e;return e=n.inArray(this,l[t]),i(o,e,l[t])}),this.pushStack(o)},_invoke:function(t){return this.each(function(){var e;return e=l.getWaypointsByElement(this),n.each(e,function(e,n){return n[t](),!0})}),this}},n.fn[g]=function(){var t,r;return r=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],d[r]?d[r].apply(this,t):n.isFunction(r)?d.init.apply(this,arguments):n.isPlainObject(r)?d.init.apply(this,[null,r]):r?n.error("The "+r+" method does not exist in jQuery Waypoints."):n.error("jQuery Waypoints needs a callback function or handler option.")},n.fn[g].defaults={context:r,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},h={refresh:function(){return n.each(f,function(t,e){return e.refresh()})},viewportHeight:function(){var t;return null!=(t=r.innerHeight)?t:i.height()},aggregate:function(t){var e,r,i;return e=s,t&&(e=null!=(i=f[n(t)[0][u]])?i.waypoints:void 0),e?(r={horizontal:[],vertical:[]},n.each(r,function(t,i){return n.each(e[t],function(t,e){return i.push(e)}),i.sort(function(t,e){return t.offset-e.offset}),r[t]=n.map(i,function(t){return t.element}),r[t]=n.unique(r[t])}),r):[]},above:function(t){return null==t&&(t=r),h._filter(t,"vertical",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){return null==t&&(t=r),h._filter(t,"vertical",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){return null==t&&(t=r),h._filter(t,"horizontal",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){return null==t&&(t=r),h._filter(t,"horizontal",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(t,e){return d[t]=e},_invoke:function(t){var e;return e=n.extend({},s.vertical,s.horizontal),n.each(e,function(e,n){return n[t](),!0})},_filter:function(t,e,r){var i,o;return(i=f[n(t)[0][u]])?(o=[],n.each(i.waypoints[e],function(t,e){if(r(i,e))return o.push(e)}),o.sort(function(t,e){return t.offset-e.offset}),n.map(o,function(t){return t.element})):[]}},n[S]=function(){var t,n;return n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],h[n]?h[n].apply(null,t):h.aggregate.call(null,n)},n[S].settings={resizeThrottle:100,scrollThrottle:30},i.on("load.waypoints",function(){return n[S]("refresh")})})}).call(this);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndheXBvaW50cy5taW4uanMiXSwibmFtZXMiOlsidCIsImluZGV4T2YiLCJlIiwibiIsInRoaXMiLCJsZW5ndGgiLCJzbGljZSIsImRlZmluZSIsImFtZCIsImpRdWVyeSIsIndpbmRvdyIsInIiLCJpIiwibyIsImwiLCJzIiwiZiIsInUiLCJjIiwiYSIsImgiLCJkIiwicCIsInkiLCJ2IiwidyIsImciLCJtIiwiY2FsbCIsImhvcml6b250YWwiLCJ2ZXJ0aWNhbCIsIiRlbGVtZW50IiwiZWxlbWVudCIsImRpZFJlc2l6ZSIsImRpZFNjcm9sbCIsImlkIiwib2xkU2Nyb2xsIiwieCIsInNjcm9sbExlZnQiLCJzY3JvbGxUb3AiLCJ3YXlwb2ludHMiLCJiaW5kIiwiZG9TY3JvbGwiLCJzZXRUaW1lb3V0Iiwic2V0dGluZ3MiLCJzY3JvbGxUaHJvdHRsZSIsInJlc2l6ZVRocm90dGxlIiwicHJvdG90eXBlIiwibmV3U2Nyb2xsIiwiZm9yd2FyZCIsImJhY2t3YXJkIiwiZWFjaCIsIm9mZnNldCIsInB1c2giLCJzb3J0IiwicmV2ZXJzZSIsIm9wdGlvbnMiLCJjb250aW51b3VzIiwidHJpZ2dlciIsInJlZnJlc2giLCJpc1dpbmRvdyIsImNvbnRleHRPZmZzZXQiLCJsZWZ0IiwiY29udGV4dFNjcm9sbCIsImNvbnRleHREaW1lbnNpb24iLCJ3aWR0aCIsIm9mZnNldFByb3AiLCJ0b3AiLCJoZWlnaHQiLCJpc0Z1bmN0aW9uIiwiYXBwbHkiLCJwYXJzZUZsb2F0IiwiTWF0aCIsImNlaWwiLCJvbmx5T25TY3JvbGwiLCJlbmFibGVkIiwiY2hlY2tFbXB0eSIsImlzRW1wdHlPYmplY3QiLCJ1bmJpbmQiLCJqb2luIiwib3V0ZXJIZWlnaHQiLCJheGlzIiwiY2FsbGJhY2siLCJoYW5kbGVyIiwiY29udGV4dCIsInRyaWdnZXJPbmNlIiwiZGVzdHJveSIsImRpc2FibGUiLCJlbmFibGUiLCJnZXRXYXlwb2ludHNCeUVsZW1lbnQiLCJleHRlbmQiLCJtYXAiLCJpbml0IiwiZm4iLCJkZWZhdWx0cyIsImNsb3Nlc3QiLCJfaW52b2tlIiwicHJldiIsIl90cmF2ZXJzZSIsIm5leHQiLCJhZ2dyZWdhdGUiLCJpbkFycmF5IiwicHVzaFN0YWNrIiwiYXJndW1lbnRzIiwiaXNQbGFpbk9iamVjdCIsImVycm9yIiwidmlld3BvcnRIZWlnaHQiLCJpbm5lckhlaWdodCIsInVuaXF1ZSIsImFib3ZlIiwiX2ZpbHRlciIsImJlbG93IiwicmlnaHQiLCJleHRlbmRGbiIsIm9uIl0sIm1hcHBpbmdzIjoiQ0FPQSxXQUFZLEdBQUlBLE1BQUtDLFNBQVMsU0FBU0QsR0FBRyxJQUFJLEdBQUlFLEdBQUUsRUFBRUMsRUFBRUMsS0FBS0MsT0FBT0gsRUFBRUMsRUFBRUQsSUFBSyxHQUFHQSxJQUFLRSxPQUFNQSxLQUFLRixLQUFLRixFQUFFLE1BQU9FLEVBQUUsV0FBVUEsS0FBS0ksT0FBTSxTQUFVTixFQUFFRSxHQUFHLE1BQW1CLGtCQUFUSyxTQUFxQkEsT0FBT0MsSUFBWUQsT0FBTyxhQUFhLFVBQVUsU0FBU0osR0FBRyxNQUFPRCxHQUFFQyxFQUFFSCxLQUFpQkUsRUFBRUYsRUFBRVMsT0FBT1QsSUFBTVUsT0FBTyxTQUFTUCxFQUFFUSxHQUFHLEdBQUlDLEdBQUVDLEVBQUVDLEVBQUVDLEVBQUVDLEVBQUVDLEVBQUVDLEVBQUVDLEVBQUVDLEVBQUVDLEVBQUVDLEVBQUVDLEVBQUVDLEVBQUVDLEVBQUVDLEVBQUVDLENBQWd2TyxPQUE5dU9mLEdBQUVULEVBQUVRLEdBQUdRLEVBQUVuQixFQUFFNEIsS0FBS2pCLEVBQUUsaUJBQWlCLEVBQUVJLEdBQUdjLGNBQWNDLGFBQWFkLEVBQUUsRUFBRUUsS0FBS0QsRUFBRSx1QkFBdUJLLEVBQUUsbUJBQW1CQyxFQUFFLG1CQUFtQkMsRUFBRSxFQUFFQyxFQUFFLHlCQUF5QkMsRUFBRSxXQUFXQyxFQUFFLFlBQVlkLEVBQUUsV0FBVyxRQUFTYixHQUFFQSxHQUFHLEdBQUlFLEdBQUVFLElBQUtBLE1BQUsyQixTQUFTL0IsRUFBRUksS0FBSzRC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ZWVTY3JpcHQgMS42LjJcbi8qIVxualF1ZXJ5IFdheXBvaW50cyAtIHYyLjAuNVxuQ29weXJpZ2h0IChjKSAyMDExLTIwMTQgQ2FsZWIgVHJvdWdodG9uXG5MaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG5odHRwczovL2dpdGh1Yi5jb20vaW1ha2V3ZWJ0aGluZ3MvanF1ZXJ5LXdheXBvaW50cy9ibG9iL21hc3Rlci9saWNlbnNlcy50eHRcbiovXG4oZnVuY3Rpb24oKXt2YXIgdD1bXS5pbmRleE9mfHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXRoaXMubGVuZ3RoO2U8bjtlKyspe2lmKGUgaW4gdGhpcyYmdGhpc1tlXT09PXQpcmV0dXJuIGV9cmV0dXJuLTF9LGU9W10uc2xpY2U7KGZ1bmN0aW9uKHQsZSl7aWYodHlwZW9mIGRlZmluZT09PVwiZnVuY3Rpb25cIiYmZGVmaW5lLmFtZCl7cmV0dXJuIGRlZmluZShcIndheXBvaW50c1wiLFtcImpxdWVyeVwiXSxmdW5jdGlvbihuKXtyZXR1cm4gZShuLHQpfSl9ZWxzZXtyZXR1cm4gZSh0LmpRdWVyeSx0KX19KSh3aW5kb3csZnVuY3Rpb24obixyKXt2YXIgaSxvLGwscyxmLHUsYyxhLGgsZCxwLHksdix3LGcsbTtpPW4ocik7YT10LmNhbGwocixcIm9udG91Y2hzdGFydFwiKT49MDtzPXtob3Jpem9udGFsOnt9LHZlcnRpY2FsOnt9fTtmPTE7Yz17fTt1PVwid2F5cG9pbnRzLWNvbnRleHQtaWRcIjtwPVwicmVzaXplLndheXBvaW50c1wiO3k9XCJzY3JvbGwud2F5cG9pbnRzXCI7dj0xO3c9XCJ3YXlwb2ludHMtd2F5cG9pbnQtaWRzXCI7Zz1cIndheXBvaW50XCI7bT1cIndheXBvaW50c1wiO289ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZhciBlPXRoaXM7dGhpcy4kZWxlbWVudD10O3RoaXMuZWxlbWVudD10WzBdO3RoaXMuZGlkUmVzaXplPWZhbHNlO3RoaXMuZGlkU2Nyb2xsPWZhbHNlO3RoaXMuaWQ9XCJjb250ZXh0XCIrZisrO3RoaXMub2xkU2Nyb2xsPXt4OnQuc2Nyb2xsTGVmdCgpLHk6dC5zY3JvbGxUb3AoKX07dGhpcy53YXlwb2ludHM9e2hvcml6b250YWw6e30sdmVydGljYWw6e319O3RoaXMuZWxlbWVudFt1XT10aGlzLmlkO2NbdGhpcy5pZF09dGhpczt0LmJpbmQoeSxmdW5jdGlvbigpe3ZhciB0O2lmKCEoZS5kaWRTY3JvbGx8fGEpKXtlLmRpZFNjcm9sbD10cnVlO3Q9ZnVuY3Rpb24oKXtlLmRvU2Nyb2xsKCk7cmV0dXJuIGUuZGlkU2Nyb2xsPWZhbHNlfTtyZXR1cm4gci5zZXRUaW1lb3V0KHQsblttXS5zZXR0aW5ncy5zY3JvbGxUaHJvdHRsZSl9fSk7dC5iaW5kKHAsZnVuY3Rpb24oKXt2YXIgdDtpZighZS5kaWRSZXNpemUpe2UuZGlkUmVzaXplPXRydWU7dD1mdW5jdGlvbigpe25bbV0oXCJyZWZyZXNoXCIpO3JldHVybiBlLmRpZFJlc2l6ZT1mYWxzZX07cmV0dXJuIHIuc2V0VGltZW91dCh0LG5bbV0uc2V0dGluZ3MucmVzaXplVGhyb3R0bGUpfX0pfXQucHJvdG90eXBlLmRvU2Nyb2xsPWZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzO3Q9e2hvcml6b250YWw6e25ld1Njcm9sbDp0aGlzLiRlbGVtZW50LnNjcm9sbExlZnQoKSxvbGRTY3JvbGw6dGhpcy5vbGRTY3JvbGwueCxmb3J3YXJkOlwicmlnaHRcIixiYWNrd2FyZDpcImxlZnRcIn0sdmVydGljYWw6e25ld1Njcm9sbDp0aGlzLiRlbGVtZW50LnNjcm9sbFRvcCgpLG9sZFNjcm9sbDp0aGlzLm9sZFNjcm9sbC55LGZvcndhcmQ6XCJkb3duXCIsYmFja3dhcmQ6XCJ1cFwifX07aWYoYSYmKCF0LnZlcnRpY2FsLm9sZFNjcm9sbHx8IXQudmVydGljYWwubmV3U2Nyb2xsKSl7blttXShcInJlZnJlc2hcIil9bi5lYWNoKHQsZnVuY3Rpb24odCxyKXt2YXIgaSxvLGw7bD1bXTtvPXIubmV3U2Nyb2xsPnIub2xkU2Nyb2xsO2k9bz9yLmZvcndhcmQ6ci5iYWNrd2FyZDtuLmVhY2goZS53YXlwb2ludHNbdF0sZnVuY3Rpb24odCxlKXt2YXIgbixpO2lmKHIub2xkU2Nyb2xsPChuPWUub2Zmc2V0KSYmbjw9ci5uZXdTY3JvbGwpe3JldHVybiBsLnB1c2goZSl9ZWxzZSBpZihyLm5ld1Njcm9sbDwoaT1lLm9mZnNldCkmJmk8PXIub2xkU2Nyb2xsKXtyZXR1cm4gbC5wdXNoKGUpfX0pO2wuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0Lm9mZnNldC1lLm9mZnNldH0pO2lmKCFvKXtsLnJldmVyc2UoKX1yZXR1cm4gbi5lYWNoKGwsZnVuY3Rpb24odCxlKXtpZihlLm9wdGlvbnMuY29udGludW91c3x8dD09PWwubGVuZ3RoLTEpe3JldHVybiBlLnRyaWdnZXIoW2ldKX19KX0pO3JldHVybiB0aGlzLm9sZFNjcm9sbD17eDp0Lmhvcml6b250YWwubmV3U2Nyb2xsLHk6dC52ZXJ0aWNhbC5uZXdTY3JvbGx9fTt0LnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKCl7dmFyIHQsZSxyLGk9dGhpcztyPW4uaXNXaW5kb3codGhpcy5lbGVtZW50KTtlPXRoaXMuJGVsZW1lbnQub2Zmc2V0KCk7dGhpcy5kb1Njcm9sbCgpO3Q9e2hvcml6b250YWw6e2NvbnRleHRPZmZzZXQ6cj8wOmUubGVmdCxjb250ZXh0U2Nyb2xsOnI/MDp0aGlzLm9sZFNjcm9sbC54LGNvbnRleHREaW1lbnNpb246dGhpcy4kZWxlbWVudC53aWR0aCgpLG9sZFNjcm9sbDp0aGlzLm9sZFNjcm9sbC54LGZvcndhcmQ6XCJyaWdodFwiLGJhY2t3YXJkOlwibGVmdFwiLG9mZnNldFByb3A6XCJsZWZ0XCJ9LHZlcnRpY2FsOntjb250ZXh0T2Zmc2V0OnI/MDplLnRvcCxjb250ZXh0U2Nyb2xsOnI/MDp0aGlzLm9sZFNjcm9sbC55LGNvbnRleHREaW1lbnNpb246cj9uW21dKFwidmlld3BvcnRIZWlnaHRcIik6dGhpcy4kZWxlbWVudC5oZWlnaHQoKSxvbGRTY3JvbGw6dGhpcy5vbGRTY3JvbGwueSxmb3J3YXJkOlwiZG93blwiLGJhY2t3YXJkOlwidXBcIixvZmZzZXRQcm9wOlwidG9wXCJ9fTtyZXR1cm4gbi5lYWNoKHQsZnVuY3Rpb24odCxlKXtyZXR1cm4gbi5lYWNoKGkud2F5cG9pbnRzW3RdLGZ1bmN0aW9uKHQscil7dmFyIGksbyxsLHMsZjtpPXIub3B0aW9ucy5vZmZzZXQ7bD1yLm9mZnNldDtvPW4uaXNXaW5kb3coci5lbGVtZW50KT8wOnIuJGVsZW1lbnQub2Zmc2V0KClbZS5vZmZzZXRQcm9wXTtpZihuLmlzRnVuY3Rpb24oaSkpe2k9aS5hcHBseShyLmVsZW1lbnQpfWVsc2UgaWYodHlwZW9mIGk9PT1cInN0cmluZ1wiKXtpPXBhcnNlRmxvYXQoaSk7aWYoci5vcHRpb25zLm9mZnNldC5pbmRleE9mKFwiJVwiKT4tMSl7aT1NYXRoLmNlaWwoZS5jb250ZXh0RGltZW5zaW9uKmkvMTAwKX19ci5vZmZzZXQ9by1lLmNvbnRleHRPZmZzZXQrZS5jb250ZXh0U2Nyb2xsLWk7aWYoci5vcHRpb25zLm9ubHlPblNjcm9sbCYmbCE9bnVsbHx8IXIuZW5hYmxlZCl7cmV0dXJufWlmKGwhPT1udWxsJiZsPChzPWUub2xkU2Nyb2xsKSYmczw9ci5vZmZzZXQpe3JldHVybiByLnRyaWdnZXIoW2UuYmFja3dhcmRdKX1lbHNlIGlmKGwhPT1udWxsJiZsPihmPWUub2xkU2Nyb2xsKSYmZj49ci5vZmZzZXQpe3JldHVybiByLnRyaWdnZXIoW2UuZm9yd2FyZF0pfWVsc2UgaWYobD09PW51bGwmJmUub2xkU2Nyb2xsPj1yLm9mZnNldCl7cmV0dXJuIHIudHJpZ2dlcihbZS5mb3J3YXJkXSl9fSl9KX07dC5wcm90b3R5cGUuY2hlY2tFbXB0eT1mdW5jdGlvbigpe2lmKG4uaXNFbXB0eU9iamVjdCh0aGlzLndheXBvaW50cy5ob3Jpem9udGFsKSYmbi5pc0VtcHR5T2JqZWN0KHRoaXMud2F5cG9pbnRzLnZlcnRpY2FsKSl7dGhpcy4kZWxlbWVudC51bmJpbmQoW3AseV0uam9pbihcIiBcIikpO3JldHVybiBkZWxldGUgY1t0aGlzLmlkXX19O3JldHVybiB0fSgpO2w9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxyKXt2YXIgaSxvO2lmKHIub2Zmc2V0PT09XCJib3R0b20taW4tdmlld1wiKXtyLm9mZnNldD1mdW5jdGlvbigpe3ZhciB0O3Q9blttXShcInZpZXdwb3J0SGVpZ2h0XCIpO2lmKCFuLmlzV2luZG93KGUuZWxlbWVudCkpe3Q9ZS4kZWxlbWVudC5oZWlnaHQoKX1yZXR1cm4gdC1uKHRoaXMpLm91dGVySGVpZ2h0KCl9fXRoaXMuJGVsZW1lbnQ9dDt0aGlzLmVsZW1lbnQ9dFswXTt0aGlzLmF4aXM9ci5ob3Jpem9udGFsP1wiaG9yaXpvbnRhbFwiOlwidmVydGljYWxcIjt0aGlzLmNhbGxiYWNrPXIuaGFuZGxlcjt0aGlzLmNvbnRleHQ9ZTt0aGlzLmVuYWJsZWQ9ci5lbmFibGVkO3RoaXMuaWQ9XCJ3YXlwb2ludHNcIit2Kys7dGhpcy5vZmZzZXQ9bnVsbDt0aGlzLm9wdGlvbnM9cjtlLndheXBvaW50c1t0aGlzLmF4aXNdW3RoaXMuaWRdPXRoaXM7c1t0aGlzLmF4aXNdW3RoaXMuaWRdPXRoaXM7aT0obz10aGlzLmVsZW1lbnRbd10pIT1udWxsP286W107aS5wdXNoKHRoaXMuaWQpO3RoaXMuZWxlbWVudFt3XT1pfXQucHJvdG90eXBlLnRyaWdnZXI9ZnVuY3Rpb24odCl7aWYoIXRoaXMuZW5hYmxlZCl7cmV0dXJufWlmKHRoaXMuY2FsbGJhY2shPW51bGwpe3RoaXMuY2FsbGJhY2suYXBwbHkodGhpcy5lbGVtZW50LHQpfWlmKHRoaXMub3B0aW9ucy50cmlnZ2VyT25jZSl7cmV0dXJuIHRoaXMuZGVzdHJveSgpfX07dC5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZWQ9ZmFsc2V9O3QucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe3RoaXMuY29udGV4dC5yZWZyZXNoKCk7cmV0dXJuIHRoaXMuZW5hYmxlZD10cnVlfTt0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7ZGVsZXRlIHNbdGhpcy5heGlzXVt0aGlzLmlkXTtkZWxldGUgdGhpcy5jb250ZXh0LndheXBvaW50c1t0aGlzLmF4aXNdW3RoaXMuaWRdO3JldHVybiB0aGlzLmNvbnRleHQuY2hlY2tFbXB0eSgpfTt0LmdldFdheXBvaW50c0J5RWxlbWVudD1mdW5jdGlvbih0KXt2YXIgZSxyO3I9dFt3XTtpZighcil7cmV0dXJuW119ZT1uLmV4dGVuZCh7fSxzLmhvcml6b250YWwscy52ZXJ0aWNhbCk7cmV0dXJuIG4ubWFwKHIsZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19KX07cmV0dXJuIHR9KCk7ZD17aW5pdDpmdW5jdGlvbih0LGUpe3ZhciByO2U9bi5leHRlbmQoe30sbi5mbltnXS5kZWZhdWx0cyxlKTtpZigocj1lLmhhbmRsZXIpPT1udWxsKXtlLmhhbmRsZXI9dH10aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxyLGksczt0PW4odGhpcyk7aT0ocz1lLmNvbnRleHQpIT1udWxsP3M6bi5mbltnXS5kZWZhdWx0cy5jb250ZXh0O2lmKCFuLmlzV2luZG93KGkpKXtpPXQuY2xvc2VzdChpKX1pPW4oaSk7cj1jW2lbMF1bdV1dO2lmKCFyKXtyPW5ldyBvKGkpfXJldHVybiBuZXcgbCh0LHIsZSl9KTtuW21dKFwicmVmcmVzaFwiKTtyZXR1cm4gdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBkLl9pbnZva2UuY2FsbCh0aGlzLFwiZGlzYWJsZVwiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGQuX2ludm9rZS5jYWxsKHRoaXMsXCJlbmFibGVcIil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtyZXR1cm4gZC5faW52b2tlLmNhbGwodGhpcyxcImRlc3Ryb3lcIil9LHByZXY6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZC5fdHJhdmVyc2UuY2FsbCh0aGlzLHQsZSxmdW5jdGlvbih0LGUsbil7aWYoZT4wKXtyZXR1cm4gdC5wdXNoKG5bZS0xXSl9fSl9LG5leHQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZC5fdHJhdmVyc2UuY2FsbCh0aGlzLHQsZSxmdW5jdGlvbih0LGUsbil7aWYoZTxuLmxlbmd0aC0xKXtyZXR1cm4gdC5wdXNoKG5bZSsxXSl9fSl9LF90cmF2ZXJzZTpmdW5jdGlvbih0LGUsaSl7dmFyIG8sbDtpZih0PT1udWxsKXt0PVwidmVydGljYWxcIn1pZihlPT1udWxsKXtlPXJ9bD1oLmFnZ3JlZ2F0ZShlKTtvPVtdO3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlO2U9bi5pbkFycmF5KHRoaXMsbFt0XSk7cmV0dXJuIGkobyxlLGxbdF0pfSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG8pfSxfaW52b2tlOmZ1bmN0aW9uKHQpe3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlO2U9bC5nZXRXYXlwb2ludHNCeUVsZW1lbnQodGhpcyk7cmV0dXJuIG4uZWFjaChlLGZ1bmN0aW9uKGUsbil7blt0XSgpO3JldHVybiB0cnVlfSl9KTtyZXR1cm4gdGhpc319O24uZm5bZ109ZnVuY3Rpb24oKXt2YXIgdCxyO3I9YXJndW1lbnRzWzBdLHQ9Mjw9YXJndW1lbnRzLmxlbmd0aD9lLmNhbGwoYXJndW1lbnRzLDEpOltdO2lmKGRbcl0pe3JldHVybiBkW3JdLmFwcGx5KHRoaXMsdCl9ZWxzZSBpZihuLmlzRnVuY3Rpb24ocikpe3JldHVybiBkLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfWVsc2UgaWYobi5pc1BsYWluT2JqZWN0KHIpKXtyZXR1cm4gZC5pbml0LmFwcGx5KHRoaXMsW251bGwscl0pfWVsc2UgaWYoIXIpe3JldHVybiBuLmVycm9yKFwialF1ZXJ5IFdheXBvaW50cyBuZWVkcyBhIGNhbGxiYWNrIGZ1bmN0aW9uIG9yIGhhbmRsZXIgb3B0aW9uLlwiKX1lbHNle3JldHVybiBuLmVycm9yKFwiVGhlIFwiK3IrXCIgbWV0aG9kIGRvZXMgbm90IGV4aXN0IGluIGpRdWVyeSBXYXlwb2ludHMuXCIpfX07bi5mbltnXS5kZWZhdWx0cz17Y29udGV4dDpyLGNvbnRpbnVvdXM6dHJ1ZSxlbmFibGVkOnRydWUsaG9yaXpvbnRhbDpmYWxzZSxvZmZzZXQ6MCx0cmlnZ2VyT25jZTpmYWxzZX07aD17cmVmcmVzaDpmdW5jdGlvbigpe3JldHVybiBuLmVhY2goYyxmdW5jdGlvbih0LGUpe3JldHVybiBlLnJlZnJlc2goKX0pfSx2aWV3cG9ydEhlaWdodDpmdW5jdGlvbigpe3ZhciB0O3JldHVybih0PXIuaW5uZXJIZWlnaHQpIT1udWxsP3Q6aS5oZWlnaHQoKX0sYWdncmVnYXRlOmZ1bmN0aW9uKHQpe3ZhciBlLHIsaTtlPXM7aWYodCl7ZT0oaT1jW24odClbMF1bdV1dKSE9bnVsbD9pLndheXBvaW50czp2b2lkIDB9aWYoIWUpe3JldHVybltdfXI9e2hvcml6b250YWw6W10sdmVydGljYWw6W119O24uZWFjaChyLGZ1bmN0aW9uKHQsaSl7bi5lYWNoKGVbdF0sZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5wdXNoKGUpfSk7aS5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQub2Zmc2V0LWUub2Zmc2V0fSk7clt0XT1uLm1hcChpLGZ1bmN0aW9uKHQpe3JldHVybiB0LmVsZW1lbnR9KTtyZXR1cm4gclt0XT1uLnVuaXF1ZShyW3RdKX0pO3JldHVybiByfSxhYm92ZTpmdW5jdGlvbih0KXtpZih0PT1udWxsKXt0PXJ9cmV0dXJuIGguX2ZpbHRlcih0LFwidmVydGljYWxcIixmdW5jdGlvbih0LGUpe3JldHVybiBlLm9mZnNldDw9dC5vbGRTY3JvbGwueX0pfSxiZWxvdzpmdW5jdGlvbih0KXtpZih0PT1udWxsKXt0PXJ9cmV0dXJuIGguX2ZpbHRlcih0LFwidmVydGljYWxcIixmdW5jdGlvbih0LGUpe3JldHVybiBlLm9mZnNldD50Lm9sZFNjcm9sbC55fSl9LGxlZnQ6ZnVuY3Rpb24odCl7aWYodD09bnVsbCl7dD1yfXJldHVybiBoLl9maWx0ZXIodCxcImhvcml6b250YWxcIixmdW5jdGlvbih0LGUpe3JldHVybiBlLm9mZnNldDw9dC5vbGRTY3JvbGwueH0pfSxyaWdodDpmdW5jdGlvbih0KXtpZih0PT1udWxsKXt0PXJ9cmV0dXJuIGguX2ZpbHRlcih0LFwiaG9yaXpvbnRhbFwiLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUub2Zmc2V0PnQub2xkU2Nyb2xsLnh9KX0sZW5hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGguX2ludm9rZShcImVuYWJsZVwiKX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBoLl9pbnZva2UoXCJkaXNhYmxlXCIpfSxkZXN0cm95OmZ1bmN0aW9uKCl7cmV0dXJuIGguX2ludm9rZShcImRlc3Ryb3lcIil9LGV4dGVuZEZuOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGRbdF09ZX0sX2ludm9rZTpmdW5jdGlvbih0KXt2YXIgZTtlPW4uZXh0ZW5kKHt9LHMudmVydGljYWwscy5ob3Jpem9udGFsKTtyZXR1cm4gbi5lYWNoKGUsZnVuY3Rpb24oZSxuKXtuW3RdKCk7cmV0dXJuIHRydWV9KX0sX2ZpbHRlcjpmdW5jdGlvbih0LGUscil7dmFyIGksbztpPWNbbih0KVswXVt1XV07aWYoIWkpe3JldHVybltdfW89W107bi5lYWNoKGkud2F5cG9pbnRzW2VdLGZ1bmN0aW9uKHQsZSl7aWYocihpLGUpKXtyZXR1cm4gby5wdXNoKGUpfX0pO28uc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0Lm9mZnNldC1lLm9mZnNldH0pO3JldHVybiBuLm1hcChvLGZ1bmN0aW9uKHQpe3JldHVybiB0LmVsZW1lbnR9KX19O25bbV09ZnVuY3Rpb24oKXt2YXIgdCxuO249YXJndW1lbnRzWzBdLHQ9Mjw9YXJndW1lbnRzLmxlbmd0aD9lLmNhbGwoYXJndW1lbnRzLDEpOltdO2lmKGhbbl0pe3JldHVybiBoW25dLmFwcGx5KG51bGwsdCl9ZWxzZXtyZXR1cm4gaC5hZ2dyZWdhdGUuY2FsbChudWxsLG4pfX07blttXS5zZXR0aW5ncz17cmVzaXplVGhyb3R0bGU6MTAwLHNjcm9sbFRocm90dGxlOjMwfTtyZXR1cm4gaS5vbihcImxvYWQud2F5cG9pbnRzXCIsZnVuY3Rpb24oKXtyZXR1cm4gblttXShcInJlZnJlc2hcIil9KX0pfSkuY2FsbCh0aGlzKTsiXX0=
